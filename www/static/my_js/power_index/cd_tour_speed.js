var myChart_old_index = echarts.init(document.getElementById('tour_speed'));

function new_old_index(data) {
    // 基于准备好的dom，初始化echarts实例


    var option_old = {
        title: {
            text: '全国电力经济指数',
            x: 'left',
            textStyle: {
                color: 'black',
                fontSize: 40
            },
            left: '40%',
        },
        grid: {
            top: '20%',//距上边距

            left: '10%',//距离左边距

            right: '10%',//距离右边距

            bottom: '11%',//距离下边距
            //containLabel: true,

        },
        legend: {
            data: ['一致', '先行', '滞后'],
            // x: 'center'
            left: '1%',
            top: '10%',
            textStyle: {
                color: 'black',
                fontSize: 18
            }

        },
        xAxis: {
            // name:'日期',
            type: 'category',
            axisLabel: {
                interval: 0,
                rotate: 295
            },
            // data: data.year
            data: [201401,201402,201403,201404,201405,201406,201407,201408,201409,201410,201411,201412,201501,201502,201503,201504,201505,201506,201507,201508,201509,201510,201511,201512,201601,201602,201603,201604,201605,201606,201607,201608,201609,201610,201611,201612,201701,201702,201703,201704,201705,201706,201707,201708,201709,201710,201711,201712,201801,201802,201803,201804,201805,201806,201807,201808,201809,201810,201811,201812,201901,201902,201903,201904,201905,201906,201907,201908,201909,201910,201911,201912]
        },
        yAxis: {
            type: 'value',
            min: 80,
            max: 102,
        },
        series: [{
            name: '一致',
            color:'blue',
            // data: data.hotel,
            data: [100,100.4996194,101.0130064,101.4511061,101.7188203,101.6992934,101.2850896,100.6013738,99.84210832,99.00287586,98.0946436,96.96681581,94.59475073,93.10109968,91.67604604,90.45561072,89.46329084,88.74922748,88.3187856,88.04806394,87.82508932,87.69514741,87.75249848,88.0318537,89.63204048,90.4056467,91.41863764,92.50455859,93.58358931,94.61387908,95.56125047,96.42826586,97.27187192,98.05277897,98.64803211,98.97209342,98.95934132,98.60544542,97.96208553,97.29840315,96.8734708,96.70448518,96.74268184,96.95932327,97.2958213,97.7104651,98.20909342,98.82740934,99.54056574,100.2447718,100.8161262,101.1401338,101.1162979,100.8336962,100.3223278,99.61824301,98.66104754,97.5339485,96.43823443,95.54182174,94.88875675,94.51615358,94.29598982,94.09628993,93.80486303,93.43157455,93.08005184,92.85667163,92.82973504,93.01926248,93.2803508,93.49830262],
            type: 'line'
        }, {
            name: '先行',
            color:'green',
            // data: data.dining,
            data: [100,99.01046688,98.19224745,97.08032583,96.03769946,95.06410494,94.1342388,93.26477713,92.37572552,91.35835645,90.214257,88.92385726,87.57056222,86.29548694,85.26534149,84.57624359,84.22105103,84.11593345,84.13716883,84.19787451,84.24759689,84.28080274,84.36619111,84.56297996,84.92451046,85.43659382,86.02303082,86.62702254,87.25202922,87.8762376,88.5626528,89.4089223,90.46215995,91.7525843,93.15412157,94.50176816,95.54712101,99.82046412,99.82335017,99.26773472,98.36864446,97.40155956,96.48207691,95.6019623,94.71352022,93.72642603,92.56654074,91.2875179,90.00748219,88.78030241,87.66490998,86.69172881,85.79766185,84.95283428,84.15778162,83.39205082,82.72075329,82.26625908,82.11044699,82.21384547,82.54471724,83.11928208,83.86569291,84.67024919,85.42061421,86.01610542,86.35760097,86.41163828,86.1788227,85.68982548,85.05545378,84.4198374],
            type: 'line'
        },
            {
                name: '滞后',
                color: 'red',
                // data: data.transport,
                data: [100,99.87360726,99.81304226,99.74429661,99.69754517,99.66800011,99.56271092,99.28758055,98.89304924,98.41969132,97.94317638,97.49573281,97.0512631,96.55258733,95.97544239,95.33079728,94.65120084,93.96583299,93.29727345,92.61783029,91.86232013,90.99588362,90.12323766,89.31910903,88.67541814,88.26443924,88.07766954,88.03155173,88.10149138,88.29175663,88.64659891,89.22450658,89.99939952,90.89350823,91.76560881,92.53613956,93.1690503,93.6414785,93.96571921,94.13294613,94.12973582,93.94646862,93.65732644,93.38581369,93.29138362,93.42300013,93.7285504,94.12110091,94.50630101,94.80091053,94.98707436,95.14628904,95.36228397,95.67670616,95.9892302,96.09568866,95.88259378,95.34002317,94.58396694,93.77082794,93.02781891,92.43793031,91.95089636,91.51147169,91.04575297,90.51863806,89.97949544,89.53291231,89.20439284,88.98679913,88.82916781,88.64370858],
                type: 'line'
            }
        ]
    };


    // myChart_new_index.setOption(option_new);
    myChart_old_index.setOption(option_old);
}


$(function () {
    $.get("/pow_tour/tour_speed",
        function (data) {
            var data = JSON.parse(data);
            // console.log('======================================')
            // console.log(source_data.source_data)
            // console.log('========================================')
            if (data.msg == 200) {
                new_old_index(data.data)
            } else {
                alert("信息不存在")
            }

        }
    )
    // new_old_index()
});




